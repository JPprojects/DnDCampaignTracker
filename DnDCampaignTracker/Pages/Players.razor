@page "/players"

@using DnDCampaignTracker.Models
@inject DnDCampaignTracker.Services.PlayerService PlayerService

<title>Index</title>

@if(PlayersList is null)
{
    <p>Loading.....</p>
}
else{
    @foreach(var player in PlayersList)
    {
        <p>@player.Name</p>
    }
}

@code {
    private List<PlayersModel>? PlayersList;

    protected override async Task OnInitializedAsync() => PlayersList = await PlayerService.AsyncBuildPlayersModel();
}