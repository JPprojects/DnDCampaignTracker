@page "/Location"
@model DnDCampaignTracker.Pages.LocationsModel

@if (Model is not null)
{
    <form method="post">
        <label for="Continents">Choose a Continent:</label>
        <select id="Continents" name="SelectedContinent" asp-for="SelectedContinent" asp-items="Model.ContinentsSelectList" onchange="this.form.submit()">
            <option value="">--Select a continent--</option>
            @foreach (var continent in Model.ContinentList)
            {
                <option value="@continent.continent" selected="@(Model.SelectedContinent == continent.continent ? "selected" : null)">@continent.continent</option>
            }
        </select>
    </form>

    <!-- Display Locations of the Selected Continent -->
    @if (Model.SelectedLocations != null && Model.SelectedLocations.Any())
    {
        <h3>Locations in @Model.SelectedContinent:</h3>
        <ul>
            @foreach (var location in Model.SelectedLocations)
            {
                <li>@location.Name</li>
            }
        </ul>
    }
    else if (Model.SelectedContinent != null)
    {
        <p>No locations available for this continent.</p>
    }
}